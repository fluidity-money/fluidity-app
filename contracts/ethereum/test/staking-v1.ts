// Test the staking implementation. Should not be run in parallel, since
// it uses snapshotting/reverts to rollback.

import * as ethers from "ethers";
import { BigNumber } from "ethers";

import * as hre from "hardhat";

import { expect } from "chai";

import { getLatestTimestamp } from "../script-utils";
import { advanceTime, sendEmptyTransaction } from "./test-utils";

const stakingTest = [
  // FLY,Hours,Bonus,Points
  [2923169.586213, 338664, 0, 989972304.7452394],
  [9966716.189936, 449187, 1, 4478593753.528692],
  [4764621.669671, 86934, 0, 414207620.2311787],
  [818953.489796, 364875, 1, 298953238.7756012],
  [242760.039127, 545799, 1, 132538970.28205082],
  [5179598.345799, 519254, 1, 2690397331.9716086],
  [3989301.957849, 933774, 0, 3725106446.3884926],
  [4678692.073188, 5851, 0, 27375027.320222992],
  [8147917.783736, 670967, 1, 5468352801.787661],
  [7094016.860285, 306166, 1, 2173138560.8785453],
  [4006018.304405, 966459, 0, 3871652444.456952],
  [9426540.118898, 558122, 0, 5261159424.239591],
  [9246408.238625, 569439, 1, 5266818857.57847],
  [9629353.018319, 993938, 0, 9570979880.321949],
  [2025146.1175, 3691, 0, 7474814.3196925],
  [212031.518447, 312328, 1, 66259001.388613716],
  [3097958.345363, 875040, 0, 2710837470.526439],
  [9772731.768147, 357051, 1, 3491005469.485703],
  [7437907.036756, 291712, 0, 2169726737.506166],
  [2635434.911014, 162031, 0, 427022154.0665095],
  [8552633.088214, 769006, 0, 6577026160.635096],
  [1169835.67764, 995956, 1, 1165301394.553467],
  [7251272.517837, 656095, 0, 4757523642.590266],
  [6565022.283483, 419441, 0, 2753639511.606393],
  [9488030.81023, 730523, 0, 6931224731.581651],
  [9493282.48895, 165070, 0, 1567056140.4509764],
  [168481.636902, 905653, 0, 152585899.905207],
  [190862.249151, 335222, 0, 63981224.88489652],
  [9874164.782628, 942395, 0, 9305363520.324715],
  [6844819.198415, 855032, 1, 5853689378.484508],
  [3457188.654202, 820992, 1, 2838905035.284514],
  [2802290.94611, 679727, 0, 1904792817.9265118],
  [1068444.69359, 293284, 0, 313357733.51484954],
  [529138.313401, 776202, 1, 410807112.37513435],
  [156444.147177, 552002, 0, 86357482.12999837],
  [5856499.133158, 934494, 0, 5472863300.941353],
  [4192001.703806, 145868, 0, 611478904.5307735],
  [9082627.770626, 21587, 0, 196066685.68450344],
  [5266390.382205, 926619, 1, 4880822143.152626],
  [6213361.882636, 35814, 1, 223569187.2610086],
  [2444515.811691, 183181, 1, 448199529.5577332],
  [4559978.06035, 43482, 1, 199043042.3342775],
  [7790762.77211, 3218, 0, 25070674.600649983],
  [2343241.748706, 741901, 1, 1738847061.2205129],
  [7664187.232513, 922402, 1, 7070749215.099519],
  [4548788.670264, 566308, 1, 2576779610.7764697],
  [8840803.126089, 612647, 1, 5417776767.714231],
  [8662927.05159, 19762, 1, 172652136.13818866],
  [121229.23302, 622401, 0, 75453195.86088102],
  [423884.980823, 840516, 0, 356282108.5414247],
  [5661288.578582, 913328, 0, 5170613374.89914],
  [5942189.272956, 70386, 0, 418246934.166281],
  [1316421.941903, 620631, 1, 817233425.1114404],
  [9201591.166767, 323161, 1, 2975141270.3596067],
  [710134.825102, 202803, 0, 144017472.9351609],
  [9616443.605958, 11739, 0, 112887431.49034096],
  [5805809.559447, 907142, 1, 5267669071.381857],
  [1638701.491584, 238478, 1, 391069556.16055524],
  [1027941.061791, 146317, 0, 150405252.33807376],
  [3878587.394742, 697124, 1, 2704507961.654439],
  [1158000.341126, 793561, 1, 919138452.7615988],
  [3074018.142358, 838874, 0, 2578713895.1524253],
  [3860943.205884, 229750, 1, 887700340.0104375],
  [9691773.323529, 330979, 0, 3207773442.8483047],
  [3426652.799222, 998386, 1, 3421697859.274325],
  [8304610.478554, 538005, 0, 4467921960.514445],
  [8179589.374819, 59112, 1, 484886058.1392703],
  [7902949.567729, 425809, 1, 3366474748.0124965],
  [282986.764556, 18815, 1, 5371937.751566549],
  [6363159.209745, 122348, 1, 779588813.7411186],
  [8508590.161351, 834967, 1, 7105821444.399869],
  [1872767.563015, 660540, 1, 1237352511.0245147],
  [6631759.576244, 748807, 0, 4965907993.008541],
  [8358965.286495, 312070, 1, 2609986603.124626],
  [8844767.570166, 465841, 0, 4120255369.6536994],
  [8027686.354548, 637682, 1, 5120459741.248442],
  [7010966.247099, 702477, 1, 4926220378.692877],
  [9884361.032756, 253088, 0, 2501613165.058151],
  [5151655.345657, 308346, 1, 1589357797.3100238],
  [1965563.895859, 276179, 1, 543177685.9289471],
  [6051419.096381, 348407, 1, 2109373411.5210073],
  [7709362.835828, 448339, 1, 3457703197.4087086],
  [3692814.788401, 619922, 0, 2289257129.255125],
  [361892.176026, 52705, 1, 19134325.023022696],
  [5096468.876437, 618694, 0, 3153154715.0383134],
  [6579604.754108, 314699, 0, 2070595036.5130334],
  [1622837.456727, 114701, 0, 186141079.12404364],
  [4616493.389375, 744754, 1, 3438927488.6000037],
  [6469106.902634, 819743, 1, 5304091909.645546],
  [2187477.948207, 639674, 1, 1399640265.3366632],
  [3288530.425087, 704302, 0, 2316118555.449624],
  [9214339.813082, 106600, 1, 983796633.163139],
  [1303927.724076, 53501, 0, 69761437.16579008],
  [5082233.907601, 435390, 1, 2213607636.326876],
  [5704029.893599, 3933, 0, 22433949.57152487],
  [9043793.896477, 934049, 1, 8448866002.585053],
  [5853921.856214, 758402, 1, 4440609502.468255],
  [8645127.930873, 463376, 1, 4007397181.5885935],
  [4275968.771563, 979175, 1, 4187640084.648823],
  [6185248.007777, 608701, 0, 3764966647.5818677],
  [1527605.353511, 838723, 0, 1281237744.9128065],
  [494948.661007, 356354, 1, 176460086.51953766],
  [2670355.523443, 805006, 0, 2149652218.5047555],
  [4324483.286908, 525592, 0, 2272913819.7325497],
  [2482147.07467, 426448, 1, 1058923656.4074168],
  [6385737.386457, 791704, 1, 5056686635.6884775],
  [3336046.863998, 389624, 0, 1299803923.3383567],
  [363678.622446, 304422, 1, 110772871.61082715],
  [4257383.767877, 361982, 0, 1541096291.0636525],
  [5940161.872427, 213384, 1, 1268533448.1805308],
  [9139328.833249, 578173, 0, 5284113169.506075],
  [6176236.54509, 964990, 1, 5961044111.385975],
  [3509761.177323, 779820, 1, 2737571601.1778126],
  [4967186.729115, 352994, 0, 1753387112.2572203],
  [9933083.396161, 864902, 0, 8591143695.50644],
  [509143.111449, 91876, 1, 46863568.55021176],
  [1732993.020566, 798196, 1, 1383559239.871154],
  [8173992.550997, 687983, 0, 5623567917.212569],
  [2649946.801236, 802156, 1, 2126115917.3548725],
  [6328828.582622, 983647, 1, 6226396492.012262],
  [6736719.825574, 496471, 0, 3344586028.5225496],
  [8113453.082767, 99264, 1, 806736866.9256884],
  [1627459.659788, 469728, 1, 764736784.295742],
  [4487262.759898, 929969, 1, 4173769121.7032466],
  [2052258.105157, 192326, 0, 394702592.3324252],
  [2346271.966145, 681626, 1, 1599674148.8858643],
  [3068159.585589, 812645, 1, 2493839997.241352],
  [751109.129295, 927359, 1, 696673997.3676034],
  [7649458.341993, 542005, 0, 4146044668.651916],
  [5727404.871771, 481628, 1, 2759440757.5997806],
  [1638142.077057, 648025, 1, 1061832227.353808],
  [4291111.935114, 657440, 1, 2821869537.4264474],
  [5992406.711259, 165717, 1, 994050387.2971992],
  [3207815.217742, 551196, 0, 1768134916.7585192],
  [427781.298665, 372959, 0, 159544885.36879975],
  [5282083.293629, 769948, 1, 4067816857.7563906],
  [933780.892782, 693839, 0, 647893600.8669701],
  [2269606.471871, 924932, 0, 2099231653.2405877],
  [4954154.592865, 40955, 0, 202897401.35078606],
  [7778201.789196, 531887, 0, 4137124415.050093],
  [198295.495022, 500611, 0, 99268906.05845843],
  [8983434.013349, 48470, 0, 435427046.6270261],
  [6670322.57964, 995711, 0, 6641713566.095924],
  [3214193.762424, 942643, 1, 3030377235.3447337],
  [1694413.961859, 939732, 0, 1592295021.2056818],
  [8944388.501383, 42070, 1, 377793081.5214151],
  [6322961.047671, 55717, 1, 353358678.1490938],
  [6465593.044225, 869062, 0, 5619001222.200267],
  [5040491.624417, 142652, 0, 719036211.206334],
  [6598296.230508, 883988, 0, 5832814688.214306],
  [8304183.649134, 868837, 0, 7214982009.162637],
  [2368114.46869, 392666, 1, 930275879.1933676],
  [650885.956993, 666940, 0, 434101880.15691143],
  [139840.930022, 187147, 1, 26194303.80707093],
  [8334180.030185, 526990, 0, 4392029534.107193],
  [5152742.268005, 653098, 1, 3366111330.450555],
  [1741976.132809, 619648, 1, 1079704678.733143],
  [9782493.258547, 801423, 0, 7839915094.7445135],
  [4316621.966942, 325313, 1, 1404978434.4222493],
  [3902652.382725, 518568, 1, 2024446286.4052353],
  [1910937.703553, 636989, 0, 1217246296.848522],
  [2853660.437533, 831612, 1, 2373617678.731199],
  [6459841.405541, 715620, 0, 4622791706.63325],
  [2044382.633799, 428516, 0, 876050668.7050122],
  [7422020.048585, 451663, 1, 3353498740.5722094],
  [9189107.809515, 920813, 0, 8461449929.402934],
  [1430761.752344, 233960, 1, 334981387.552796],
  [8370440.215219, 844719, 0, 7070669888.159579],
  [3689112.732299, 141033, 0, 520286635.9743249],
  [5718884.799643, 580839, 1, 3322712100.78618],
  [5948211.983486, 619543, 1, 3686172396.4980927],
  [187200.563775, 373957, 1, 70036410.92232187],
  [8187273.493589, 659214, 1, 5398540770.749702],
  [9285982.052736, 122123, 0, 1134031986.2262783],
  [9282427.630799, 644525, 0, 5982756668.740725],
  [3072031.354436, 678845, 0, 2085433124.8021066],
  [1226994.486845, 177664, 0, 217992748.51083007],
  [7198896.322499, 501965, 0, 3613593992.52321],
  [4754084.342368, 739108, 1, 3514580456.2884455],
  [6713283.804099, 759906, 1, 5102592474.116743],
  [9400619.649249, 673020, 1, 6328384340.438636],
  [8358096.953795, 942557, 1, 7879386950.766392],
  [863838.16263, 378595, 1, 327189933.9922267],
  [2449976.375769, 975560, 1, 2390510549.1763353],
  [7234342.281289, 784472, 0, 5675138958.087345],
  [8970046.912822, 239729, 0, 2150380376.3639054],
  [4813737.29208, 613731, 1, 2955148509.87062],
  [6839726.395218, 380822, 0, 2604718285.2797093],
  [7604771.561819, 221104, 0, 1681445411.4044282],
  [4151773.160864, 58875, 1, 245133142.73689318],
  [5519350.952172, 537610, 0, 2967258265.3971887],
  [9304398.003412, 455853, 0, 4241437743.0493712],
  [8440782.106013, 525108, 0, 4432322210.124275],
  [9397408.124308, 371918, 1, 3496643999.3412666],
  [5149782.020709, 506319, 0, 2607432482.9433603],
  [2043961.867053, 705272, 0, 1441549073.9002035],
  [3004585.956598, 891098, 0, 2677380536.752565],
  [6354766.244775, 558348, 1, 3549238623.966754],
  [9336817.163176, 736164, 0, 6873428670.112297],
  [3423271.749969, 726565, 1, 2487804548.6702213],
  [9935660.774764, 507149, 1, 5040529617.270947],
  [6958154.45419, 684914, 1, 4766906369.785394],
  [5724636.699475, 138653, 0, 793738052.2923071],
  [8282380.21093, 959175, 1, 7945643478.694218],
  [2987674.985776, 247498, 0, 739443583.6295885],
  [694930.074811, 308697, 1, 214639577.55649954],
  [4093188.617942, 961741, 0, 3936587314.6081567],
  [1565013.767253, 730546, 1, 1143577469.9245086],
  [3175777.841819, 518826, 0, 1647676114.5595846],
  [6525042.693172, 869468, 1, 5674412027.519325],
  [2482594.934933, 625143, 1, 1552393921.3578892],
  [7069748.141254, 176496, 0, 1247782267.938766],
  [5643475.075895, 843552, 1, 4761512791.03413],
  [1401073.10837, 301161, 1, 422183958.6720238],
  [6506703.635731, 980489, 1, 6380844467.305057],
  [5401707.289381, 15409, 1, 84142394.44668785],
  [6467347.090666, 651867, 1, 4216936660.2624054],
  [6907594.765906, 524798, 0, 3625091917.957937],
  [9380269.812519, 307015, 1, 2881459421.8190246],
  [3946737.242303, 929561, 1, 3669396069.549126],
  [9746297.048471, 953864, 0, 9296641887.842743],
  [4787936.32131, 854337, 1, 4091315526.241001],
  [3005266.539575, 875591, 1, 2631889219.431662],
  [3567438.52933, 25711, 0, 91722412.02760363],
  [2413771.554601, 273282, 1, 660045831.6056436],
  [5222211.870721, 63743, 1, 333756782.8696498],
  [2687261.369576, 264238, 0, 710076569.7740232],
  [8143479.515508, 343588, 0, 2798001839.7743626],
  [6014328.927792, 305504, 0, 1837401544.756167],
  [792857.479655, 17931, 1, 14349927.524275845],
  [323465.667536, 470409, 1, 152215503.4320883],
  [892220.379949, 213403, 1, 190552398.76608786],
  [4966069.137379, 421357, 1, 2093322293.1336832],
  [4819135.345897, 321977, 1, 1552460356.0039895],
  [452807.746129, 145045, 0, 65677499.537280805],
  [7156944.695218, 469462, 0, 3359913570.5064325],
  [2708977.588549, 809597, 1, 2193635236.991381],
  [3101353.734031, 895287, 1, 2777122707.906729],
  [2052384.873541, 28832, 1, 59519161.332689],
  [6254392.581161, 893525, 1, 5589506869.035518],
  [1502872.375552, 512570, 0, 770327293.5366887],
  [9126037.460551, 418945, 0, 3823307763.910538],
  [6463672.513349, 320850, 1, 2074955222.8902695],
  [2575055.476988, 96261, 1, 248310024.59047586],
  [4638608.923642, 953153, 0, 4421304011.396144],
  [7760679.869487, 671348, 1, 5211420703.238432],
  [233915.577642, 683002, 0, 159764807.36064127],
  [8560766.590272, 71728, 1, 615484874.7741957],
  [3777619.634165, 155417, 1, 587740950.7815615],
  [1282799.326982, 927491, 0, 1189784830.581862],
  [1138321.266028, 805599, 0, 917030473.5908909],
  [7800509.504712, 750207, 1, 5853307319.598267],
  [1325406.275962, 649756, 0, 861190680.2439654],
  [7627492.950639, 635510, 0, 4847348045.060591],
  [4147301.323353, 357424, 1, 1483041774.820446],
  [6484092.766399, 976969, 1, 6335846953.480819],
  [1398233.517111, 444281, 0, 621208585.2155921],
  [1012324.077944, 512605, 1, 519092454.41957873],
  [770950.016675, 625553, 1, 482399615.38389766],
  [4936732.663106, 994526, 0, 4909708988.508159],
  [7755423.680435, 751565, 0, 5828704998.386131],
  [9773598.839579, 440031, 0, 4300686470.978786],
  [9233949.645326, 97687, 0, 902036839.0029609],
  [5026632.744415, 151330, 0, 760680333.212322],
  [8901435.564507, 905645, 0, 8061540611.817943],
  [7500412.162333, 785607, 1, 5893636366.857213],
  [9228511.71765, 300047, 1, 2770537645.314295],
  [7748200.329002, 545110, 1, 4224923178.997553],
  [2574119.874578, 609552, 0, 1569059917.7887692],
  [9688833.302885, 553312, 1, 5362575456.480789],
  [4905766.113957, 112665, 1, 553532307.9361101],
  [6702306.934646, 643344, 0, 4311888952.562897],
  [8713582.979624, 935688, 0, 8153195031.038421],
  [2550087.323017, 97597, 0, 248880872.4644902],
  [2289621.74084, 48654, 1, 111783912.6312905],
  [8445449.315366, 223793, 0, 1890032438.6337035],
  [6333989.953146, 55195, 1, 350668685.776022],
  [3078043.555314, 721011, 0, 2219303261.8605027],
  [3493558.008604, 533812, 1, 1865490105.4343638],
  [5564651.732683, 316831, 1, 1763989034.6087782],
  [3228910.285156, 722356, 0, 2332422717.9441476],
  [9951049.24315, 806283, 1, 8025033613.187561],
  [8554871.451801, 713546, 1, 6105731523.350699],
  [9333109.49215, 262610, 0, 2450967883.7335114],
  [5637839.865397, 272299, 0, 1535178157.5077376],
  [7752214.638701, 204400, 0, 1584552672.1504846],
  [5344022.549703, 766720, 0, 4097368969.3082848],
  [9440878.5501, 385147, 1, 3637712118.5317817],
  [317735.179671, 390675, 1, 124184570.82815267],
  [290275.627763, 992478, 0, 288092174.49096674],
  [4520994.434976, 831562, 0, 3759487174.337513],
  [8531652.400777, 767541, 1, 6549826332.948109],
  [5807002.038201, 308294, 0, 1790263886.365139],
  [4387813.701594, 878139, 1, 3853847488.805921],
  [1574584.548213, 260891, 1, 411059467.57193756],
  [1044399.811262, 590454, 0, 616670046.1588929],
  [6704127.233777, 715694, 1, 4799229929.826071],
  [7144933.749064, 118317, 0, 845367126.3880053],
  [3858741.032795, 536893, 0, 2071731049.320406],
  [26135.148234, 648536, 1, 16953975.199988738],
  [7089828.086638, 264710, 1, 1877939483.9325001],
  [8611979.423549, 441073, 1, 3799958412.8261847],
  [1183188.633282, 409165, 1, 484318152.82722086],
  [2910633.261318, 427015, 1, 1243373048.469607],
  [121077.274035, 624172, 0, 75573044.28897402],
  [8485555.371793, 416860, 0, 3537288612.2856297],
  [9071543.212746, 199773, 1, 1813773421.499648],
  [2503760.6709, 836687, 1, 2095284636.2460194],
  [3259818.989912, 514811, 1, 1678738323.6058922],
  [7714063.146393, 894818, 0, 6902682556.529092],
  [3717287.984799, 691106, 1, 2569664534.403944],
  [6636126.902137, 808904, 1, 5369104464.965787],
  [2175950.38242, 834736, 0, 1816344118.4197412],
  [2844942.632936, 359125, 0, 1021690023.053141],
  [1764896.616382, 856686, 0, 1511962222.7018301],
  [7411326.352216, 437955, 0, 3245827432.5847583],
  [7207660.882282, 738134, 1, 5321430444.710565],
  [3733900.334491, 768072, 0, 2867904297.7131715],
  [4762362.854232, 144314, 1, 688075709.9051478],
  [6813926.942961, 56695, 0, 386315588.03117394],
  [1622399.903757, 366117, 1, 594260748.7476329],
  [366071.354562, 403556, 0, 147730291.56162247],
  [8507558.097723, 866472, 0, 7371560880.050243],
  [4092034.807737, 64512, 0, 263985349.51672935],
  [5095123.485647, 58147, 0, 296266145.3199161],
  [80606.591525, 437637, 0, 35276426.89522643],
  [3459467.047285, 845311, 1, 2924906739.6714745],
  [8828988.566511, 51421, 1, 455478691.15773594],
  [2887743.817727, 685226, 0, 1978757145.2458014],
  [9691739.585752, 115355, 0, 1117990619.9144218],
  [4428992.086722, 111763, 0, 494997442.5883109],
  [4541240.970578, 898625, 1, 4081635595.668712],
  [5033568.392027, 923057, 1, 4647116178.729127],
  [807340.877579, 797257, 0, 643658166.0360008],
  [5761225.342468, 464882, 0, 2678289959.657209],
  [901545.177344, 217868, 1, 196569304.28737637],
  [1964365.708571, 859712, 0, 1688788772.0469916],
  [8967240.136863, 541867, 1, 4860558007.584537],
  [8139999.264654, 595874, 0, 4850413921.826438],
  [8555559.107512, 674596, 1, 5772983285.621227],
  [9850909.250782, 771045, 1, 7597149276.023339],
  [2768551.499674, 892210, 1, 2470594450.1760845],
  [3913561.854447, 575784, 0, 2253366298.8009114],
  [3870671.953421, 455120, 0, 1761620219.4409657],
  [8046632.282272, 149831, 1, 1206986795.7085178],
  [2993631.72233, 550283, 0, 1647344645.0589192],
  [9121459.679584, 736790, 1, 6722132682.546866],
  [5499258.367175, 138791, 1, 764171443.4442708],
  [997285.33936, 576605, 0, 575039713.1016728],
  [5051068.766229, 714531, 1, 3609993796.1551],
  [7857243.866262, 660453, 1, 5190660300.173869],
  [3094506.659651, 909365, 1, 2814555925.672353],
  [8903859.207115, 895128, 0, 7970093684.346436],
  [7696060.664519, 640909, 0, 4932474544.436208],
  [2527375.205518, 722749, 1, 1827082501.447456],
  [7712599.403854, 671658, 0, 5180229090.39377],
  [1942461.818191, 920582, 0, 1788195385.5139072],
  [2425453.158512, 51973, 1, 126465553.13797419],
  [9767006.845007, 433672, 1, 4237318249.6378374],
  [377330.949695, 543617, 1, 205186910.4798956],
  [4642383.672986, 76029, 1, 353735708.7305142],
  [9569310.293554, 811782, 1, 7769801492.8511715],
  [7964587.134625, 55977, 0, 445833694.03490365],
  [6605351.336732, 757875, 1, 5007140343.350336],
  [9094906.099319, 21556, 1, 197577740.10160592],
  [7481966.549865, 688022, 0, 5147757589.571218],
  [5442005.241663, 158490, 1, 863417667.6317682],
  [1598908.736558, 664769, 0, 1062904961.8929251],
  [6691951.595205, 387783, 0, 2595025065.4433804],
  [1011425.344649, 322815, 1, 326673192.090768],
  [6568795.935647, 973905, 0, 6397383205.706291],
  [9125683.681231, 818291, 0, 7467464825.198195],
  [404460.754327, 119287, 0, 48246910.00140485],
  [3130132.69011, 954503, 0, 2987721043.1080656],
  [2534929.170806, 546366, 1, 1385424979.4372864],
  [3799987.881768, 664660, 1, 2526338343.460056],
  [7920947.515155, 651757, 0, 5162532989.634877],
  [9579123.734307, 916485, 0, 8779123215.63635],
  [4858514.558892, 998021, 1, 4849715789.0258465],
  [2519371.976932, 310193, 0, 781491551.6404679],
  [2747469.103372, 484836, 1, 1332533505.0118334],
  [9487624.223036, 196632, 1, 1867164447.0934849],
  [9110166.531705, 519274, 0, 4730672615.584581],
  [2258249.757879, 374886, 1, 846965604.6915505],
  [3693923.869047, 542505, 1, 2004592747.7873425],
  [1563884.949507, 954389, 1, 1492817325.7465532],
  [8511804.628834, 156421, 1, 1332854975.024487],
  [27323.164361, 82032, 0, 2241373.818861552],
  [3897716.503224, 216963, 1, 846315082.0615304],
  [9637751.944825, 224816, 0, 2166720841.227777],
  [903383.068497, 756262, 1, 683346054.5031857],
  [7810414.542731, 489794, 0, 3825494180.5423875],
  [9484155.206885, 292639, 0, 2775433695.58762],
  [5333611.629316, 96935, 0, 517013643.2877465],
  [2436076.201365, 434010, 1, 1057690692.956253],
  [7588056.33192, 31480, 1, 240146806.79260415],
  [7025646.634338, 681176, 1, 4786882180.426391],
  [913992.612302, 933696, 1, 853544796.8947951],
  [7884657.569817, 587004, 0, 4628325532.112858],
  [9981861.304101, 393629, 1, 3930827035.971061],
  [3853200.662647, 925270, 0, 3565250977.12739],
  [4257244.002502, 685285, 1, 2918140673.247003],
  [7439365.3933, 112498, 0, 836913728.0154634],
  [67598.087172, 108610, 1, 7353184.7263958175],
  [8231685.589183, 224246, 1, 1847305489.8109138],
  [7121111.162488, 458410, 0, 3264388567.996124],
  [499032.522941, 218170, 1, 108957762.99389206],
  [1206560.172489, 820500, 1, 990185323.6362027],
  [8654162.081848, 386600, 1, 3347152960.072187],
  [2111794.657884, 143436, 0, 302907378.5482494],
  [2249350.094392, 290577, 0, 653609402.3781443],
  [1941702.009456, 223083, 0, 433160709.37547284],
  [8535134.268933, 772571, 1, 6595431119.841017],
  [4503968.512551, 988796, 0, 4453506049.336379],
  [9774416.818483, 527340, 1, 5156083067.084331],
  [471.531335, 928917, 1, 438092.690378475],
  [8396494.931, 711158, 0, 5971234542.140098],
  [8905181.172956, 809478, 0, 7208548245.522077],
  [8005956.420578, 650120, 0, 5204832388.14617],
  [2442838.257025, 736028, 1, 1798407753.468777],
  [2397502.617058, 968815, 0, 2322736497.9450464],
  [7933067.544527, 386788, 1, 3069748084.75999],
  [5333169.034772, 505705, 0, 2697010246.7293744],
  [1298484.728313, 485550, 1, 630697405.2667338],
  [8139686.688889, 293499, 0, 2388989903.5022326],
  [4965860.218538, 468230, 1, 2325998994.6427627],
  [7879258.941461, 652549, 0, 5141602542.991434],
  [6180396.549988, 974114, 1, 6021449111.515408],
  [8925781.56003, 398513, 1, 3558539518.1343203],
  [9555916.574476, 325609, 1, 3113097833.8830676],
  [4771392.998929, 788617, 0, 3762801632.636392],
  [6211051.010425, 644381, 0, 4002283261.148672],
  [5033619.395675, 169867, 1, 855891473.9435986],
  [3359285.261579, 897054, 0, 3013460281.0404882],
  [1115370.71179, 187061, 1, 208829742.99772993],
  [334620.791013, 259039, 0, 86679835.08321652],
  [7064923.961861, 382918, 0, 2705286553.6278906],
  [6234451.258017, 150947, 0, 941071714.0438921],
  [5998389.432687, 719448, 0, 4315529280.567797],
  [9934358.356756, 467349, 0, 4642812443.671559],
  [514586.555828, 152691, 0, 78572735.79593314],
  [587061.629413, 780481, 1, 458289073.9396291],
  [6407004.044586, 277842, 1, 1781211194.435354],
  [52808.205521, 912207, 1, 48180886.51222238],
  [5757093.248488, 374024, 0, 2153291045.1724753],
  [9164296.91788, 269581, 1, 2472059929.301213],
  [9828353.129808, 14308, 0, 140624076.58129287],
  [5424085.337648, 223183, 1, 1211474884.2490184],
  [2388332.662503, 172482, 1, 412345634.1811429],
  [682195.855651, 474831, 0, 323927740.33462006],
  [8565348.949934, 612495, 1, 5247672383.713414],
  [9504959.758563, 397738, 0, 3780483684.451331],
  [9231714.492932, 96026, 1, 888035543.9331008],
  [8371804.560656, 528756, 1, 4428048355.440414],
  [9504691.295867, 407464, 0, 3872819534.179151],
  [2190898.924685, 542271, 0, 1188060950.7878597],
  [3444885.304461, 454546, 1, 1566437576.3326793],
  [2247993.593735, 996472, 0, 2240062672.336303],
  [3314179.005895, 424120, 0, 1405609599.9801874],
  [5797073.608243, 655426, 1, 3800526675.1224613],
  [6887287.259453, 870686, 0, 5996664594.784095],
  [6645401.905158, 389562, 1, 2589912484.4972277],
  [5601324.867542, 254745, 1, 1427850525.959734],
  [5442933.073217, 856975, 0, 4664457570.420138],
  [6442018.069557, 714555, 0, 4603176221.692302],
  [3356956.335889, 915028, 0, 3071709042.11584],
  [3194806.724398, 781748, 0, 2497533767.184688],
  [2940261.144531, 246788, 1, 726115131.2087976],
  [8624412.982152, 459385, 0, 3961925957.8058968],
  [6263189.067765, 275014, 0, 1722464678.2823238],
  [2178162.631615, 315240, 0, 686643987.9903126],
  [1451917.21303, 747560, 1, 1085639153.8644958],
  [1236966.051265, 516979, 1, 639693282.513541],
  [7472916.202834, 596245, 1, 4456944371.280834],
  [3475271.625073, 163423, 0, 567939314.7843049],
  [5819944.89128, 101922, 1, 594158173.9507751],
  [8667873.679297, 22788, 1, 198979708.18194196],
  [9798974.510824, 393043, 0, 3851418338.657798],
  [4589149.474452, 753217, 0, 3456625399.6983123],
  [3119826.489313, 455462, 0, 1420962412.4754775],
  [9186865.265115, 926579, 0, 8512356430.484992],
  [7247319.035003, 670996, 0, 4862922083.210873],
  [5802058.005782, 748990, 1, 4346658171.495631],
  [5440047.101313, 40377, 0, 219652781.809715],
  [3410040.380471, 610195, 1, 2081362476.745421],
  [6163882.544936, 489205, 0, 3015402160.395416],
  [7426038.172465, 842005, 0, 6252761271.406393],
  [3602515.953722, 336703, 1, 1213583151.846284],
  [3753560.022669, 396062, 1, 1487273087.782138],
  [3382690.752302, 293255, 0, 991990976.566323],
  [7531362.788389, 227927, 0, 1716600926.2691398],
  [5689736.673206, 575082, 0, 3272065145.500653],
  [5853642.912506, 972532, 1, 5693838460.994587],
  [4452047.904164, 158663, 1, 707123220.6662724],
  [5036593.465154, 622167, 0, 3133602246.4344687],
  [712065.044398, 170775, 1, 121722534.88452733],
  [5978280.875449, 623971, 0, 3730273896.134788],
  [3826501.883425, 504984, 0, 1932322227.0994904],
  [7372726.265745, 428082, 1, 3157370023.3052964],
  [6377522.64111, 998783, 1, 6370832619.859475],
  [7661507.333388, 200190, 1, 1535044286.302953],
  [708470.57286, 675287, 1, 478539990.7911513],
  [9816830.571958, 239656, 0, 2352662347.5531664],
  [7460178.895412, 822999, 1, 6140973080.79961],
  [8372259.994662, 379550, 1, 3179097820.653065],
  [8013927.830925, 79095, 0, 633861621.7870129],
  [5591718.057306, 176294, 0, 985786343.194704],
  [3521708.032559, 897381, 0, 3160313875.965828],
  [7681708.805514, 159414, 0, 1224571927.522209],
  [7252885.566669, 241214, 0, 1749497539.0784962],
  [96193.370901, 449790, 1, 43282976.783872165],
  [9646939.972394, 724978, 0, 6993819247.306257],
  [3567394.476002, 319355, 1, 1139864585.155587],
  [7508281.972534, 129042, 1, 970145113.6711181],
  [38527.633881, 284372, 1, 10962652.944499739],
  [4752862.809149, 241432, 1, 1148291654.6903982],
  [5080604.254637, 67735, 0, 344134729.1878372],
  [3421140.254403, 618409, 1, 2116238675.1478446],
  [7389416.264431, 4386, 1, 33651401.66821878],
  [9408815.892541, 621966, 1, 5853544266.490104],
  [687698.032818, 787882, 1, 541940434.7622248],
  [3293764.37603, 332545, 0, 1095324874.4268963],
  [5720965.710465, 736178, 0, 4211649094.798703],
  [2899435.666593, 974294, 0, 2824902773.3475604],
  [7136152.682833, 250802, 0, 1789761365.1598823],
  [4251735.022079, 504879, 0, 2146611726.2122235],
  [6610138.510907, 254423, 0, 1681771270.3604915],
  [7697273.465348, 724374, 1, 5576997911.130171],
  [2895927.203496, 127121, 1, 368619677.80580235],
  [9204055.302648, 212559, 0, 1956404791.0755565],
  [7118113.45317, 801460, 0, 5704883208.1776285],
  [1553365.094736, 58777, 0, 91302140.17329788],
  [9790530.947567, 483598, 0, 4734681185.181506],
  [3841503.0841, 433286, 0, 1664469505.2973528],
  [2911638.370574, 329940, 1, 961155119.2334421],
  [2846717.926511, 732034, 1, 2084372559.2272072],
  [7821046.004248, 293478, 1, 2296618874.963408],
  [1145832.628691, 4512, 0, 5169996.820653792],
  [1687877.526761, 291041, 1, 491525126.6905441],
  [2528788.630331, 678863, 0, 1716701035.9523935],
  [5880213.558859, 245782, 0, 1445250648.9234827],
  [445356.44611, 240960, 0, 107313089.25466561],
  [699978.801391, 912260, 1, 638680257.7955874],
  [6789378.701723, 949539, 1, 6447920478.677244],
  [2223770.474399, 264584, 1, 588747680.638084],
  [8494611.372721, 697270, 1, 5924464766.567788],
  [6909069.955912, 815620, 0, 5635175637.440945],
  [5178905.340488, 531928, 0, 2754804759.9551005],
  [5805064.58957, 568524, 1, 3301293791.5717425],
  [9203239.034675, 435384, 1, 4008489168.0307655],
  [6445441.664432, 137712, 1, 888697496.6918843],
  [4182546.005605, 259225, 0, 1084220488.3029563],
  [3804332.520707, 511626, 0, 1946395430.2392397],
  [815736.974897, 738913, 0, 602758655.3320669],
  [9837777.622612, 262468, 1, 2583754563.692325],
  [5763854.272022, 548541, 0, 3161710386.2292194],
  [2393896.405878, 485336, 0, 1161844106.043205],
  [198991.338225, 975481, 1, 194145700.14788306],
  [4489265.710666, 356849, 1, 1602744176.2248433],
  [3743504.399566, 267884, 1, 1003453841.3124653],
  [7169891.428962, 651338, 1, 4671227285.317317],
  [589597.088086, 165892, 1, 97908492.44756116],
  [7378610.623587, 951603, 1, 7022747611.822022],
  [7167238.932891, 373127, 1, 2675494457.453546],
  [6522600.281694, 295499, 0, 1927421860.6402953],
  [5012272.221917, 631141, 0, 3163450502.412917],
  [4232429.48664, 613535, 0, 2596743625.0856724],
  [480526.283094, 488273, 1, 234708738.24071646],
  [2566903.202725, 352345, 1, 904866748.7021981],
  [8552341.371182, 598230, 1, 5117703971.832567],
  [824321.544521, 54765, 0, 45143969.38569257],
  [4497247.166063, 189186, 0, 850816202.3587949],
  [3496462.8445, 318536, 1, 1114336694.393528],
  [8089779.066189, 734117, 1, 5940203421.61659],
  [2321412.368293, 482631, 1, 1120775569.9994922],
  [4312114.304975, 665797, 0, 2870992767.90944],
  [3517313.294897, 293263, 1, 1032088757.4349216],
  [7380224.926674, 600922, 1, 4436179401.174475],
  [5349109.812588, 677281, 1, 3623749093.427928],
  [8585051.452374, 318941, 0, 2738124895.271616],
  [9756857.855509, 580507, 0, 5663924283.127963],
  [9836573.657087, 735096, 0, 7230825949.030025],
  [3132999.921387, 406625, 1, 1274482437.020782],
  [7627845.615752, 841840, 1, 6422707031.22811],
  [2122709.298911, 865967, 0, 1838196203.450062],
  [5555908.263232, 926193, 0, 5145843342.047636],
  [3897016.518894, 882149, 1, 3438403923.900997],
  [5890501.791543, 502851, 0, 2962044716.3791895],
  [8930586.125253, 733213, 1, 6549522183.12417],
  [2302702.677276, 22679, 0, 52222994.017942406],
  [2496208.461347, 900724, 1, 2248814233.1598215],
  [6343715.191552, 575254, 1, 3650313282.9532347],
  [2871666.580877, 151641, 1, 435944831.9763565],
  [4886592.72099, 67990, 1, 333060386.67723644],
  [8089385.999312, 612493, 1, 4956051315.724489],
  [9064759.159705, 45442, 1, 413443665.27414507],
  [663599.320218, 643523, 0, 427041425.344648],
  [2421364.533768, 379775, 1, 919980505.0534152],
  [411420.171823, 614310, 0, 252739525.75258714],
  [1967862.836476, 616770, 1, 1214049362.6098304],
  [1545607.059432, 566818, 1, 876337564.1991119],
  [8061452.344265, 367440, 0, 2962100049.3767314],
  [9435765.89531, 411276, 0, 3880704054.3595157],
  [1516177.565817, 303131, 1, 459855139.5347303],
  [1664529.328713, 6577, 1, 11227250.322169187],
  [5140835.25238, 754341, 0, 3877942805.115582],
  [9065355.208007, 151447, 0, 1372920850.1870363],
  [5213260.653816, 343039, 0, 1788351721.4243867],
  [3899860.657002, 685607, 0, 2673771765.4651704],
  [8148447.658285, 384485, 0, 3132955897.895708],
  [9304416.764121, 271148, 0, 2522873996.757881],
  [371387.645809, 670898, 1, 249225621.9224624],
  [1403337.506225, 121402, 0, 170367979.93072745],
  [5833945.829641, 495657, 0, 2891636088.0823693],
  [9105258.74101, 548138, 1, 4992467999.248229],
  [7095082.616754, 869176, 0, 6166875528.499775],
  [6756648.950859, 845653, 0, 5713780455.240767],
  [3845575.360576, 1306, 0, 5022321.420912256],
  [7254642.136933, 688144, 1, 4993457238.556627],
  [9918097.631311, 615856, 0, 6108119934.828668],
  [434622.036526, 883124, 0, 383825151.38498724],
  [5867015.435313, 908998, 0, 5333105296.668647],
  [8905673.639354, 577151, 1, 5141414599.798212],
  [9943715.50706, 208584, 1, 2075770499.5297892],
  [7217956.225697, 373617, 1, 2697963767.8221526],
  [3874511.814662, 593957, 1, 2301944331.886061],
  [2618637.793491, 849457, 1, 2224860135.2947903],
  [6913100.844253, 380911, 1, 2634437556.627089],
  [666352.765295, 395215, 0, 263352608.13606343],
  [1100616.802607, 345424, 0, 380179458.4237204],
  [7570706.994644, 820613, 1, 6213892457.770897],
  [2324546.356727, 729583, 1, 1696340028.367885],
  [5570531.699483, 808392, 0, 4503173261.608461],
  [6652733.609398, 357889, 0, 2380940178.733841],
  [8910045.069413, 350536, 1, 3124788446.0234175],
  [7014905.422977, 460648, 1, 3232580657.3945694],
  [3121332.153229, 816864, 0, 2549703868.015254],
  [1670504.586089, 628294, 0, 1049568008.4122024],
  [5024878.776677, 800919, 1, 4025365064.5718484],
  [5839161.355333, 554308, 0, 3236693852.551925],
  [1536768.548906, 604696, 1, 929535971.5654789],
  [4532529.482171, 564675, 1, 2560167550.2979145],
  [8023236.603256, 678566, 1, 5445643472.674357],
  [6401625.803741, 687562, 1, 4402590114.006798],
  [7642525.304603, 849564, 0, 6492814367.879744],
  [631420.156276, 95609, 0, 60369449.72139208],
  [2455297.225195, 815792, 0, 2003011833.9362795],
  [7382728.543987, 43128, 0, 318402316.6450713],
  [217105.872114, 893173, 0, 193913103.1136777],
  [2126344.83289, 473491, 1, 1007162367.2018447],
  [5601144.514741, 502219, 1, 2813942189.3271866],
  [3118266.562773, 692245, 0, 2158604436.7467957],
  [9490955.905854, 468278, 1, 4446000330.273683],
  [7422212.413202, 121906, 1, 906059158.1292208],
  [5545176.816859, 32774, 1, 182669214.70096922],
  [3761947.447174, 549540, 0, 2067340600.12],
  [3737604.450084, 792199, 1, 2961554425.299709],
  [8619607.899778, 549342, 0, 4735112642.879846],
  [6080102.880584, 573491, 0, 3486884281.0889983],
  [4536339.00975, 304990, 1, 1384300139.5372908],
  [424744.252882, 413601, 0, 175674647.73624808],
  [4690946.626365, 592990, 1, 2782472519.001411],
  [809797.232931, 92709, 0, 75075491.66780007],
  [2879850.93104, 73152, 0, 210666855.3074381],
  [1566336.17077, 625685, 0, 980033047.0082275],
  [6382891.073752, 580158, 0, 3703085319.5658126],
  [4709274.772908, 274944, 1, 1295578001.3242657],
  [3272197.672431, 658492, 0, 2154715989.714434],
  [1877158.39595, 834191, 1, 1566224002.0864463],
  [1008040.720417, 833172, 1, 840040653.9523027],
  [5345065.570595, 448768, 0, 2398694385.984777],
  [9257483.003599, 199539, 1, 1848784158.1997454],
  [8353032.596161, 86113, 0, 719304695.9532124],
  [2571182.087712, 126305, 0, 324753153.5884642],
  [7862292.754705, 206741, 1, 1626779131.583257],
  [3904658.168413, 325645, 1, 1272188391.8251448],
  [4875065.26602, 270851, 1, 1321235313.3314745],
  [4442110.49263, 648243, 0, 2879567032.0739493],
  [3090983.416865, 3737, 0, 11551005.028824504],
  [3925256.047427, 944039, 1, 3706254236.7729053],
  [4630625.915158, 420034, 0, 1945020325.6474752],
  [343783.881824, 718104, 1, 246930336.3654881],
  [7593475.789501, 948509, 0, 7202480127.623805],
  [9610227.657376, 221489, 0, 2128559713.604553],
  [2154199.114201, 308187, 1, 664258067.8594495],
  [94795.990482, 187170, 1, 17758891.264916915],
  [1798202.078422, 880341, 1, 1583333113.8692768],
  [6058049.372131, 224234, 1, 1359438395.2049408],
  [7623149.247881, 271810, 1, 2073328886.1401787],
  [8189978.203703, 684042, 1, 5603664986.75563],
  [7415697.217268, 173275, 1, 1286200772.454614],
  [8473971.128731, 199129, 0, 1687413396.8930752],
  [9546776.494544, 371405, 1, 3547324382.4071975],
  [8230069.536321, 299966, 1, 2470123690.2141666],
  [478266.795592, 441360, 1, 211168181.72414458],
  [5874508.412203, 521701, 1, 3065723830.5679674],
  [7183274.221661, 312546, 0, 2245103624.883259],
  [7038117.187213, 953558, 0, 6711252948.804454],
  [5390170.493536, 171706, 1, 926430163.4060066],
  [3854821.827134, 780856, 1, 3010708362.715505],
  [2043068.17092, 533555, 0, 1090089237.9352207],
  [7516154.356552, 159569, 0, 1199345234.520646],
  [1368944.527889, 41072, 1, 56455272.33014236],
  [4255864.793263, 318584, 1, 1356565414.5821676],
  [4506439.907235, 760982, 0, 3429319653.4875054],
  [2388020.58393, 631789, 0, 1508725136.7005508],
  [4543319.448576, 892400, 1, 4055221553.576583],
  [7933293.079955, 501525, 1, 3980077605.1618643],
  [782242.253267, 214487, 0, 167780794.17647904],
  [9835806.509125, 997301, 0, 9809259667.356873],
  [7546739.569562, 809460, 1, 6110051664.225344],
  [2418670.894649, 217431, 1, 526300368.0047277],
  [7465652.608854, 345147, 0, 2576747600.9881315],
  [583056.830068, 321450, 0, 187423618.02535862],
  [3032814.697392, 10655, 0, 32314640.600711755],
  [5515679.228267, 168965, 1, 932883374.9144825],
  [7368033.818982, 627572, 1, 4625209549.527761],
  [7352660.68598, 588827, 1, 4330680380.7387905],
  [6392981.395732, 386750, 0, 2472485554.7993507],
  [8455273.867921, 966591, 1, 8174212109.277437],
  [7978593.250584, 931092, 1, 7430144750.538856],
  [3649967.124627, 812217, 0, 2964565348.0631685],
  [8004080.024229, 995586, 0, 7968750015.002054],
  [3131025.55289, 996275, 1, 3119888494.99837],
  [1935423.057271, 29063, 1, 56574351.387088604],
  [6821227.565395, 328735, 0, 2242376243.7101254],
  [5255334.689956, 250913, 1, 1319514689.2888424],
  [6448352.778039, 702189, 1, 4529045712.125138],
  [5388052.782366, 520516, 1, 2805472874.9334583],
  [3057218.347474, 62579, 1, 191831279.64895108],
  [7209018.853031, 695953, 0, 5017138297.823484],
  [7421726.788151, 69092, 1, 514028797.34733826],
  [948708.724261, 932845, 0, 884998189.8832526],
  [1720050.879961, 272154, 1, 468407695.7327395],
  [8029468.394854, 40004, 0, 321210853.6677394],
  [4958171.889476, 56328, 0, 279283906.1904042],
  [3085226.475425, 224088, 1, 691880548.4729087],
  [2053688.701717, 905491, 1, 1859941655.9083169],
  [676917.947051, 835279, 0, 565415345.8948122],
  [2789610.618353, 880564, 1, 2456899339.1232743],
  [4408045.293037, 702759, 0, 3097793502.0893893],
  [7547655.571405, 338588, 0, 2555545604.610876],
  [1252448.105769, 344790, 0, 431831582.38809353],
  [7042821.044238, 524759, 0, 3695783728.3532887],
  [1456351.809192, 33327, 1, 48780503.84888604],
  [205591.921769, 145088, 1, 29863460.188477863],
  [3776423.806588, 569948, 0, 2152365195.7172174],
  [427664.832129, 409719, 1, 175294255.0468594],
  [735518.366476, 41803, 0, 30746874.27379623],
  [1491969.747247, 718610, 0, 1072144380.0691667],
  [4699543.515321, 497496, 0, 2338004100.6981363],
  [7042974.903198, 296842, 1, 2091833975.998838],
  [4720517.904125, 988698, 1, 4667959657.780472],
  [7596907.525737, 980790, 0, 7450970932.167592],
  [6318730.27448, 179289, 1, 1133940378.8673573],
  [3937706.575366, 632082, 1, 2489614982.2751536],
  [1278825.974129, 571433, 1, 730978205.6381105],
  [2888355.418498, 19638, 1, 57206767.41877139],
  [7503314.788046, 562630, 0, 4221589999.198321],
  [5671788.550451, 674907, 0, 3827929795.2192335],
  [2023233.769164, 222070, 1, 449639426.391469],
  [8041204.891083, 382503, 0, 3075784994.453921],
  [1069643.299873, 292113, 1, 312636413.3301803],
  [5966309.4088, 556719, 0, 3321557807.7577276],
  [5083648.560395, 257869, 1, 1311769423.5786445],
  [4715466.675004, 293980, 0, 1386252893.1176758],
  [6676644.756203, 883607, 1, 5900651719.413307],
  [5991303.08571, 817268, 0, 4896500290.252041],
  [4136923.733811, 693375, 1, 2869134497.118482],
  [4959515.517451, 381425, 0, 1891683206.2437477],
  [8508052.822858, 625220, 1, 5320834138.781519],
  [1950080.309286, 447249, 0, 872171468.2478542],
  [2317398.074815, 24398, 1, 56929201.105905294],
  [550381.035048, 913010, 0, 502503388.80917454],
  [9456279.373991, 640870, 0, 6060245762.409612],
  [2972301.848417, 973533, 0, 2893633935.3949475],
  [2733106.095983, 589896, 1, 1612707515.4201128],
  [988051.045195, 149045, 1, 147430060.60668153],
  [9116748.393963, 437852, 0, 3991786517.7934875],
  [3151693.448363, 847293, 1, 2670937281.4431562],
  [9401675.306201, 546644, 0, 5139369396.082939],
  [6964912.868491, 786173, 1, 5476796549.922081],
  [5965648.383545, 95342, 1, 569779077.1123829],
  [7371824.206974, 14914, 0, 109943386.22281024],
  [1426359.374146, 515397, 0, 735141342.3567259],
  [5025747.092729, 798832, 0, 4014727601.578893],
  [3625277.590415, 987948, 1, 3582194791.530508],
  [4704840.586731, 762865, 1, 3589948627.4151154],
  [9790970.39568, 345149, 0, 3379343641.098556],
  [6028397.42806, 237312, 0, 1430611050.4477746],
  [3043827.153529, 170664, 0, 519471717.32987326],
  [5447230.4945, 873782, 1, 4760607090.668275],
  [8725707.261722, 483203, 0, 4216287925.9858556],
  [9910118.156828, 415095, 1, 4115305396.1588655],
  [2385386.478065, 587841, 0, 1402227972.6522079],
  [6139784.076809, 276110, 1, 1696287265.1726367],
  [2194976.411556, 594993, 1, 1306364356.0780804],
  [4129208.951341, 823572, 0, 3400700874.47381],
  [3408581.158768, 129154, 0, 440231890.9795223],
  [6491626.48485, 612225, 1, 3975426617.936746],
  [1211582.017081, 612284, 0, 741832283.746423],
  [880338.667959, 641680, 0, 564895716.4559311],
  [4257263.91841, 452596, 0, 1926820620.4166927],
  [1662855.825629, 747186, 0, 1242462592.92843],
  [2877609.822062, 89098, 1, 256872718.3761865],
  [8073390.242218, 652442, 0, 5267418876.413197],
  [9215819.312887, 670643, 1, 6182072969.097041],
  [3916374.000733, 435125, 1, 1704770187.9010699],
  [938457.966102, 606003, 1, 568866003.7700155],
  [1698837.659731, 338971, 0, 575856700.3566768],
  [6936893.694751, 938698, 0, 6511648237.475374],
  [1364579.997376, 148109, 0, 202106578.831362],
  [7918202.606991, 284171, 1, 2251453811.069214],
  [8965411.373499, 939485, 1, 8424375693.342457],
  [3814584.553636, 194251, 1, 741627714.3333576],
  [5511326.223077, 702629, 1, 3873343535.599847],
  [6817325.526619, 919698, 1, 6271025962.868914],
  [5237647.06436, 856195, 0, 4484447228.269711],
  [9651443.885878, 392495, 0, 3788143467.987686],
  [2324579.723225, 286445, 1, 666254768.2126868],
  [5462449.053448, 481846, 1, 2632976918.0486846],
  [2520210.499978, 895459, 1, 2257168569.463796],
  [1235264.865601, 637144, 0, 787041597.5284835],
  [286259.213084, 925546, 0, 264946069.6330439],
  [3284364.477775, 480023, 1, 1577122262.9472551],
  [22689.581662, 272549, 0, 6184022.792396438],
  [4509105.951726, 880056, 1, 3969023277.2520666],
  [9445809.691189, 830648, 1, 7847729824.394881],
  [2449724.123914, 607910, 0, 1489211792.16856],
  [5587841.949384, 53486, 0, 298871314.50475264],
  [5287778.844517, 447573, 0, 2366667040.777007],
  [4492397.538157, 175215, 1, 787890157.434589],
  [1033382.05315, 348197, 1, 359994138.94559973],
  [5194978.927129, 400144, 1, 2079612404.2768643],
  [530083.653261, 750832, 0, 398003769.54526323],
  [9625437.5588, 108095, 1, 1042078746.4283644],
  [3021423.028807, 432159, 0, 1305735154.7062042],
  [8870749.597155, 731957, 1, 6494497548.817104],
  [2706291.940319, 582927, 1, 1578025298.9403071],
  [4987509.250238, 923356, 0, 4605246591.262759],
  [2641402.811679, 602224, 0, 1590716166.860574],
  [250070.584705, 293836, 1, 73521752.18560882],
  [413802.420893, 542914, 1, 224728646.34341222],
  [7786945.261662, 764221, 0, 5950947094.812595],
  [9962295.113987, 243925, 0, 2430052835.679279],
  [1516315.393029, 185259, 1, 281165814.38318837],
  [8026178.264545, 497973, 1, 3998168466.8787107],
  [1241596.019521, 88959, 1, 110659728.43184817],
  [9579053.19553, 414507, 1, 3972193883.8564024],
  [2762544.618369, 369642, 0, 1021152517.823154],
  [3942392.273547, 340529, 0, 1342498898.5186863],
  [5739499.185183, 995785, 0, 5715307196.117454],
  [7602453.187852, 81360, 0, 618535591.3636388],
  [5019265.676842, 688933, 1, 3458780997.1774993],
  [2756663.346656, 637942, 1, 1759054448.1346598],
  [282184.867455, 986779, 0, 278454101.32237744],
  [3826787.666833, 464237, 0, 1776536426.0875514],
  [833855.5464, 942924, 1, 786402494.9654688],
  [828802.264386, 20249, 1, 16921655.83196896],
  [8221881.572105, 585601, 0, 4814742070.50626],
  [7931891.72957, 360322, 1, 2859367649.5926895],
  [7876139.134443, 774588, 1, 6102086051.244521],
  [5769892.883672, 953511, 0, 5501656333.402972],
  [4840527.9755, 270369, 0, 1308728708.2079597],
  [2841406.326847, 988866, 1, 2810247465.066796],
  [8594223.726397, 138910, 0, 1193823617.8338072],
  [2605671.427104, 508463, 0, 1324887510.8395813],
  [3167809.362655, 673941, 1, 2135448801.6499994],
  [2096049.508782, 340037, 0, 712734386.8177049],
  [9547208.243932, 49663, 0, 474143003.01839495],
  [3057431.68993, 168052, 1, 514321158.88002455],
  [3536405.733607, 390854, 1, 1382812442.7664764],
  [2914883.99324, 715771, 0, 2086389430.725388],
  [2673436.759223, 280447, 1, 750206456.1893622],
  [1052076.848072, 831271, 0, 874560973.5736595],
  [4177203.100001, 871645, 1, 3641739966.221172],
  [4395591.031853, 197059, 0, 866190773.1459203],
  [9704969.361827, 607228, 0, 5893129135.643485],
  [7377501.916724, 387983, 1, 2863584746.4783373],
  [9682009.738586, 277225, 1, 2685721727.415586],
  [8597453.358877, 35771, 1, 308983876.26468045],
  [25390.584189, 467574, 1, 11876242.62973124],
  [3242045.552635, 409903, 0, 1328924198.1617444],
  [784535.905017, 456526, 1, 358292840.6058338],
  [3367875.123054, 878917, 0, 2960082699.5292525],
  [2730005.016092, 509032, 1, 1390118554.1940463],
  [3021053.050367, 879851, 1, 2658584084.3309174],
  [1017808.15527, 368660, 1, 375396146.2919235],
  [6924927.969684, 26780, 1, 186612958.92704445],
  [6037724.028757, 953545, 1, 5758255896.637925],
  [5387682.376647, 601680, 0, 3241660732.380967],
  [9255601.776706, 639002, 1, 5915902987.617174],
  [6716128.204289, 338291, 0, 2272005726.35713],
  [7292928.575915, 566512, 0, 4131531553.398759],
  [2951135.334492, 274832, 1, 811562216.9853],
  [6560880.835929, 154530, 1, 1014955143.5565444],
  [2455071.806165, 522443, 0, 1282635079.628261],
  [2860538.634306, 721472, 1, 2064279100.0605817],
  [7277996.835435, 496990, 1, 3618314350.711194],
  [8443503.69987, 892282, 0, 7533986368.327403],
  [3835740.913213, 774364, 0, 2970259676.519272],
  [6606816.600048, 302722, 0, 2000028734.7997308],
  [4121817.180089, 142816, 1, 589353907.6778457],
  [3900315.832147, 373754, 0, 1457758643.5282698],
  [9267728.580307, 996205, 1, 9234114528.746225],
  [9376631.985691, 301472, 1, 2828367272.163833],
  [5480144.095584, 550712, 1, 3018901779.375314],
  [7402397.843083, 178134, 0, 1318618737.3797472],
  [4937995.788992, 130393, 1, 644709668.2065845],
  [4952469.754275, 536000, 1, 2655355803.2101183],
  [3469929.026355, 328734, 0, 1140683648.5497847],
  [1268243.053287, 932823, 1, 1183259354.5292916],
  [9857391.214541, 486666, 1, 4798913194.539853],
  [521645.688773, 902207, 0, 470632391.93082196],
  [4469203.24754, 653891, 0, 2922371780.7371783],
  [5450071.645941, 515711, 0, 2810661898.5998793],
  [7874836.745938, 3958, 0, 31168603.840422608],
  [5733623.337066, 472264, 0, 2707783891.6561375],
  [2284038.20193, 925489, 1, 2114235949.883918],
  [5643751.000208, 479850, 1, 2709102067.6178436],
  [1835567.103809, 174413, 1, 320455140.550079],
  [4581884.412133, 662650, 0, 3036185705.6999326],
  [8580493.544878, 602708, 0, 5171532103.446329],
  [2627600.660373, 92138, 1, 242543306.55639017],
  [1632180.578468, 214914, 1, 351052663.1780544],
  [3881098.3372, 716544, 1, 2781629751.4512863],
  [8466815.279662, 769996, 0, 6519413898.078621],
  [8302171.821581, 639624, 0, 5310268349.206926],
  [4323785.049534, 497444, 1, 2151567326.068713],
  [7379922.071576, 88933, 1, 657558436.4994932],
  [6043873.481647, 344159, 0, 2080053453.5701497],
  [3038941.224475, 706494, 0, 2146993741.4442408],
  [1488484.804845, 854346, 1, 1271931104.5273201],
  [2318241.500256, 335608, 1, 778409857.9899588],
  [3147622.097018, 765875, 0, 2410685073.553661],
  [7892696.612755, 630796, 0, 4978681452.539403],
  [3181998.257639, 254398, 1, 810028568.4541298],
  [2686330.835938, 226348, 1, 608496915.633332],
  [2750557.56878, 421074, 0, 1158188277.7164698],
  [3328464.040353, 356278, 1, 1186417693.3276656],
  [1587608.832813, 398805, 0, 633146340.5699885],
  [4673128.270954, 25598, 0, 119622737.4798805],
  [2100788.264419, 910007, 0, 1911732026.1391413],
  [2406777.145574, 953997, 0, 2296058176.5461597],
  [2567131.477886, 481667, 1, 1236933795.6472008],
  [728308.795299, 55547, 0, 40455368.652473554],
  [7784317.265001, 691440, 0, 5382388329.712292],
  [8709398.706255, 705162, 1, 6143000189.48284],
  [206353.852355, 810107, 0, 167168700.269752],
  [331901.314367, 159013, 1, 52832383.122253425],
  [9603406.070378, 850772, 0, 8170308989.3076315],
  [5313841.517701, 280163, 1, 1489634506.498639],
  [3150389.993231, 371049, 1, 1169478322.117232],
  [3416719.458058, 679641, 0, 2322142629.1939974],
  [9593578.883326, 842950, 1, 8088519040.952049],
  [7070941.636545, 942920, 0, 6667332287.931011],
  [7265938.947747, 71718, 1, 522319287.19774085],
  [2281343.763946, 599718, 1, 1368546185.1785102],
  [8787798.927765, 814206, 1, 7156554963.999696],
  [736324.994412, 172301, 0, 126869532.86218199],
  [461786.72144, 69297, 1, 32078014.604829602],
  [2394207.115222, 921380, 0, 2205974551.8232465],
  [5429433.70955, 102549, 1, 557695142.3438473],
  [6686877.181851, 257355, 1, 1722024672.5018148],
  [1075764.589189, 114197, 0, 122849088.79161623],
  [7369990.43789, 525645, 0, 3873998623.724689],
  [1852903.546546, 707762, 1, 1311726007.7063098],
  [4431546.612815, 545512, 1, 2418206355.6808896],
  [7595807.154585, 550555, 0, 4181909607.992545],
  [3596572.326332, 653989, 1, 2352722963.276362],
  [3512286.944445, 901776, 0, 3167296071.6138344],
  [1084494.398649, 810634, 0, 879128032.3544337],
  [8426662.851444, 855775, 1, 7212743081.053532],
  [3355928.368617, 255691, 1, 858644476.465977],
  [6688656.522165, 930289, 1, 6223507281.64408],
  [479821.636909, 925636, 1, 444220790.73689985],
  [7902417.37117, 431878, 1, 3414207815.544514],
  [4826355.466665, 528409, 1, 2551100493.5033855],
  [4101430.998525, 524637, 0, 2151762454.7731605],
  [1684937.981468, 923053, 1, 1555570128.1888685],
  [6551878.39395, 190931, 1, 1252057409.205451],
  [8564691.130225, 733586, 1, 6284376375.567115],
  [7135091.699519, 559676, 0, 3993339582.0199957],
  [7266147.800093, 90643, 1, 659846147.8742454],
  [4209750.559251, 16724, 1, 71111106.4468679],
  [4545642.24866, 10342, 0, 47011032.135641724],
  [7281481.556872, 690631, 0, 5028816889.104067],
  [6654175.59327, 819007, 1, 5450934291.616952],
  [5322697.109723, 160774, 0, 855751305.1186056],
  [2468345.414427, 833835, 1, 2058607480.6683612],
  [6870470.65692, 276365, 0, 1898757623.0996957],
  [8570907.902025, 914789, 0, 7840572268.785547],
  [6773915.625567, 899982, 0, 6096402132.52904],
  [5360921.490671, 434875, 1, 2332231368.0659842],
  [445952.627492, 86137, 1, 38487941.51569706],
  [2058076.016652, 514107, 0, 1058071286.6929097],
  [4526775.361647, 391449, 1, 1772762186.8021133],
  [8400635.658857, 545346, 0, 4581253054.015029],
  [8159152.142094, 257362, 0, 2099855713.5935962],
  [6481765.558338, 438087, 0, 2839577228.1556196]
];

const withSnapshot = async (k: () => Promise<void>) => {
  const snapshotId = await hre.network.provider.request({
    method: "evm_snapshot",
    params: []
  });

  await k();

  await hre.network.provider.request({
    method: "evm_revert",
    params: [snapshotId]
  });
};

describe("StakingV1", async () => {
  let signer: ethers.Signer;

  let signerAddr: string;

  let testToken: ethers.Contract;
  let stakingContract: ethers.Contract;

  let flyContract: ethers.Contract;

  before(async function() {
    const stakingContractFactory = await hre.ethers.getContractFactory("StakingV1");
    stakingContract = await stakingContractFactory.deploy();

    const testTokenFactory = await hre.ethers.getContractFactory("TestGovToken");
    testToken = await testTokenFactory.deploy("Test Token", "TT", 6, 1000000000000);

    await stakingContract.init(
      testToken.address, // fly token
      "0x0000000000000000000000000000000000000000", // zero since we don't use the merkle
      "0x0000000000000000000000000000000000000000", // zero since no emergency
      "0x0000000000000000000000000000000000000000", // zero for no operator
    );

    await testToken.approve(stakingContract.address, ethers.constants.MaxUint256);

    ({ signer } = testToken);

    signerAddr = await signer.getAddress();
  });

  it("cant stake too little", async () => {
    await expect(stakingContract.stake(0)).to.be.revertedWith("too little fly");
  });

  it("can stake some", async () => {
    await withSnapshot(async () => {
      const amountStaked = 1000 * 1e6;
      expect(await stakingContract.stake(amountStaked)).to.be.equal(amountStaked);
      let { flyStaked } = await stakingContract.stakingDetails(signerAddr)
      expect(flyStaked).to.be.equal(amountStaked);
      await advanceTime(hre, 1000); // advance time by 1000 seconds
      await sendEmptyTransaction(signer);
      let points: BigNumber;
      ({ flyStaked, points } = await stakingContract.stakingDetails(signerAddr));
      expect(flyStaked).to.be.equal(amountStaked);
      expect(points).to.be.equal(1000);
    });
  });

  it("cant stake for someone else", async () => {

  });

  it("staking for someone else is fine as merkle", async () => {

  });

  it("stake then unstake 0 doesnt cause weirdness", async () => {
    await withSnapshot(async () => {
      const amountStaked = BigNumber.from(41554 * 1e6);
      // simulate first
      expect(await stakingContract.callStatic.stake(amountStaked)).to.be.equal(amountStaked);
      // then send on-chain to continue the life of the testing
      await stakingContract.stake(amountStaked);
      expect(await stakingContract.stakingPositionsLen(signerAddr)).to.be.equal(1);
      let { flyStaked } = await stakingContract.stakingDetails(signerAddr);
      expect(flyStaked).to.be.equal(amountStaked);
      const { flyRemaining } = await stakingContract.callStatic.beginUnstake(0);
      await stakingContract.beginUnstake(0);
      expect(flyRemaining).to.be.equal(0);
      ({ flyStaked } = await stakingContract.stakingDetails(signerAddr));
      expect(flyStaked).to.be.equal(amountStaked);
    });
  });

  it("cant stake, have a certain number of points in the future, begin unstaking, have the same points", async () => {
      const amountStaked = BigNumber.from(17729 * 1e6);
  });

  it("cant stake, have a certain number of points in the future, begin unstaking, unstake fully, have the same amount of points", async () => {

  });

  it("can unstake fully one position, leaving a few positions left", async () => {
    await withSnapshot(async () => {
    });
  });

  it("every automated test we created works", async () => {

  });
});
